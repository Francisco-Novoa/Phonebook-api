(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(15),o=n.n(l),r=n(16),u=n(2),m=n(4),i=n.n(m),s="/api/persons",d=function(){return i.a.get(s).catch((function(e){return console.log(e),e})).then((function(e){return e.data}))},f=function(e){return i.a.post(s,e).then((function(e){return e.data}))},b=function(e,t,n){i.a.delete("".concat(s,"/").concat(e)).then(console.log).catch((function(e){t("the contact '".concat(n,"' was already deleted from server")),console.log(e)}))},E=function(e,t){i.a.put("".concat(s,"/").concat(e),t).then(console.log)},h=function(e){var t=e.person,n=e.remove;return c.a.createElement("tr",null,c.a.createElement("td",null,t.name),c.a.createElement("td",null,"#",t.number),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){n(t.id,t.name)}},"remove")))},v=function(e){var t=e.persons,n=e.remove;return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Names"),c.a.createElement("th",null,"Number"))),c.a.createElement("tbody",null,null!==t?t.map((function(e,t){return c.a.createElement(h,{person:e,key:e.id,remove:n})})):null))},p=function(e){var t=e.value,n=e.onChange,a=e.label;return c.a.createElement("div",null,c.a.createElement("div",{className:"bigly"},a,":"),c.a.createElement("div",{style:{display:"inline-block"}},c.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}})))},w=function(e){var t=e.newName,n=e.setNewName,a=e.newPhone,l=e.setNewPhone,o=e.HandleSubmit;return c.a.createElement("form",null,c.a.createElement(p,{value:t,onChange:n,label:"Name"}),c.a.createElement(p,{value:a,onChange:l,label:"Number"}),c.a.createElement("div",null,c.a.createElement("button",{className:"newcontact",onClick:function(e){o(e)}},"add")))},g=function(e){var t=e.message,n=e.classes;return null===t?null:c.a.createElement("div",{className:n},t)},N=function(e){var t=e.text;return c.a.createElement("h2",null,t)},j=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)([]),m=Object(u.a)(o,2),i=m[0],s=m[1],h=Object(a.useState)(""),j=Object(u.a)(h,2),O=j[0],k=j[1],y=Object(a.useState)(null),S=Object(u.a)(y,2),C=S[0],x=S[1],P=Object(a.useState)(null),A=Object(u.a)(P,2),H=A[0],J=A[1],L=Object(a.useState)(""),T=Object(u.a)(L,2),B=T[0],D=T[1],F=Object(a.useState)(""),I=Object(u.a)(F,2),M=I[0],q=I[1];return Object(a.useEffect)((function(){d().then((function(e){l(e),s(e)}))}),[]),c.a.createElement("div",{className:"wrapper"},c.a.createElement(N,{text:"Phonebook."}),c.a.createElement(p,{value:O,onChange:function(e){k(e);var t=n.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));s(t)},label:"Filter shown with"}),c.a.createElement(N,{text:"Add a new contact."}),c.a.createElement(g,{message:C,classes:"good"}),c.a.createElement(g,{message:H,classes:"bad"}),c.a.createElement(w,{newName:B,setNewName:D,newPhone:M,setNewPhone:q,HandleSubmit:function(e){e.preventDefault();var t=Object(r.a)(n);if(""!==B&&""!==M){var a=t.find((function(e){return e.name===B}));if(void 0===a)f({name:B,number:M}).then((function(e){t.push(e),l(t),s(t),x("Added '".concat(B,"'")),setTimeout((function(){x(null)}),5e3)})),D(""),q("");else window.confirm("".concat(B," is already added to the phonebook, do you want to replace it?"))&&(E(a.id,{name:B,number:M}),d().then((function(e){l(e),s(e)})))}}}),c.a.createElement(N,{text:"Numbers."}),c.a.createElement(v,{persons:i,remove:function(e,t){window.confirm("do you want to delete ".concat(t,"?"))&&(b(e,J,t),d().then((function(e){l(e),s(e)})),setTimeout((function(){J(null)}),5e3))}}))};n(39);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.95ac10b5.chunk.js.map